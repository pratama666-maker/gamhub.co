<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="google-site-verification" content="googlea3c2d1e8dda93d62" />
  <meta name="description" content="Gamhub adalah portal game yang menyediakan streaming, toko game, dan komunitas gamer di satu tempat." />
  <meta name="keywords" content="game, gamhub, streaming game, toko game, portal game indonesia, komunitas gamer" />
  <meta name="author" content="Gamhub Team" />

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  
  <title>Gamhub - Streaming, Toko Game, dan Komunitas Gamer Indonesia</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Roboto&display=swap');
    @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background: #f9f9f9;
      color: #111;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }
    a {
      color: inherit;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    header {
      position: fixed;
      top: 0; left:0; right:0;
      background: white;
      height: 62px;
      display: flex;
      align-items: center;
      padding: 0 20px;
      box-shadow: 0 1px 5px rgba(0,0,0,0.1);
      z-index: 1000;
      user-select: none;
    }
    .logo {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 24px;
      color: #0f62fe;
      user-select: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .logo i {
      color: #0f62fe;
      font-size: 28px;
    }
    .search-bar {
      flex-grow: 1;
      margin: 0 20px;
      position: relative;
    }
    .search-bar input {
      width: 100%;
      padding: 10px 45px 10px 15px;
      border-radius: 9999px;
      border: 1px solid #ccc;
      font-size: 16px;
      transition: border-color 0.3s ease;
    }
    .search-bar input:focus {
      outline: none;
      border-color: #0f62fe;
      box-shadow: 0 0 6px #0f62feaa;
    }
    .search-icon {
      position: absolute;
      right: 15px; top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      color: #999;
      pointer-events: none;
    }
    nav.categories {
      margin-top: 62px;
      background: white;
      padding: 10px 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      position: sticky;
      top: 62px;
      z-index: 999;
      display: flex;
      overflow-x: auto;
      scrollbar-width: none; /* Firefox */
    }
    nav.categories::-webkit-scrollbar {
      display: none; /* Chrome */
    }
    nav.categories button {
      background: #e2eaff;
      color: #0f62fe;
      border: none;
      border-radius: 9999px;
      padding: 8px 18px;
      font-weight: 600;
      font-size: 14px;
      margin-right: 10px;
      cursor: pointer;
      white-space: nowrap;
      transition: background-color 0.3s ease, color 0.3s ease;
      user-select: none;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    nav.categories button:hover, nav.categories button.active {
      background: #0f62fe;
      color: white;
    }
    main {
      padding: 20px;
      padding-top: 30px;
      max-width: 1400px;
      margin: 0 auto 80px auto;
    }
    h2.section-title {
      font-family: 'Montserrat', sans-serif;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 15px;
      color: #0f62fe;
      user-select: none;
    }
    /* Games Grid */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(224px, 1fr));
      gap: 20px;
    }
    .game-card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      cursor: pointer;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      position: relative;
      transition: box-shadow 0.3s ease;
      user-select: none;
    }
    .game-card:hover {
      box-shadow: 0 6px 20px rgb(0 0 0 / 0.2);
    }
    .game-card img {
      width: 100%;
      height: 126px;
      object-fit: cover;
      transition: transform 0.3s ease;
      will-change: transform;
    }
    .game-card:hover img {
      transform: scale(1.05);
    }
    .game-info {
      flex-grow: 1;
      padding: 12px 14px 14px 14px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .game-title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 16px;
      color: #0f62fe;
      margin: 0 0 8px 0;
      line-height: 1.2;
      user-select: text;
    }
    .game-desc {
      font-size: 14px;
      color: #333;
      flex-grow: 1;
      margin-bottom: 10px;
      user-select: text;
    }
    .game-meta {
      font-size: 13px;
      color: #666;
      margin-bottom: 10px;
      user-select: none;
    }
    .play-button {
      background: #0f62fe;
      color: #fff;
      border: none;
      border-radius: 30px;
      padding: 10px 20px;
      font-weight: 700;
      font-size: 14px;
      align-self: flex-start;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    .play-button:hover {
      background: #0043ce;
    }
    /* Modal Overlay */
    #game-modal {
      position: fixed;
      top: 0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      user-select: none;
    }
    #game-modal.active {
      display: flex;
    }
    #game-frame-container {
      background: #000;
      border-radius: 12px;
      width: 800px;
      height: 450px;
      box-shadow: 0 0 20px #0f62feaa;
      position: relative;
      overflow: hidden;
      user-select: none;
    }
    #game-iframe {
      width: 100%;
      height: 100%;
      border: none;
      user-select: none;
    }
    #modal-close {
      position: absolute;
      right: 10px;
      top: 10px;
      background: #0f62fe;
      color: white;
      border: none;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
      box-shadow: 0 0 8px #0f62feaa;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
    }
    #modal-close:hover {
      background: #0043ce;
    }

    /* Twitch Section */
    #twitch-section {
      margin-top: 40px;
    }
    #twitch-section h2 {
      font-family: 'Montserrat', sans-serif;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 15px;
      color: #9147ff;
      user-select: none;
    }
    #twitch-channels {
      display: flex;
      overflow-x: auto;
      gap: 16px;
      padding-bottom: 10px;
      scrollbar-width: none;
    }
    #twitch-channels::-webkit-scrollbar {
      display: none;
    }
    .twitch-channel {
      min-width: 220px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      cursor: pointer;
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transition: box-shadow 0.3s ease;
      user-select: none;
    }
    .twitch-channel:hover {
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
    .twitch-thumb {
      width: 100%;
      height: 126px;
      object-fit: cover;
    }
    .twitch-info {
      padding: 10px 12px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .twitch-title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 16px;
      color: #9147ff;
      margin: 0 0 6px;
      user-select: text;
    }
    .twitch-desc {
      font-size: 14px;
      color: #333;
      flex-grow: 1;
      margin: 0 0 6px;
      user-select: text;
    }
    /* Twitch player container */
    #twitch-player-container {
      margin-top: 20px;
      width: 100%;
      max-width: 840px;
      height: 472px; /* 16:9 ratio */
      box-shadow: 0 0 35px #9147ff88;
      border-radius: 14px;
      overflow: hidden;
      background: black;
      user-select: none;
      position: relative;
    }

    /* Store Section */
    #store-section {
      margin-top: 40px;
    }
    #store-section h2 {
      font-family: 'Montserrat', sans-serif;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 15px;
      color: #0f62fe;
      user-select: none;
    }
    .store-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));
      gap: 20px;
    }
    .store-item {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      display: flex;
      flex-direction: column;
      cursor: pointer;
      overflow: hidden;
      user-select: none;
      transition: box-shadow 0.3s ease;
    }
    .store-item:hover {
      box-shadow: 0 6px 20px rgb(0 0 0 / 0.2);
    }
    .store-item img {
      width: 100%;
      height: 140px;
      object-fit: contain;
      background: #eee;
    }
    .store-info {
      padding: 12px 14px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .store-title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 16px;
      margin: 0 0 8px 0;
      color: #0f62fe;
      user-select: text;
    }
    .store-desc {
      font-size: 14px;
      color: #333;
      flex-grow: 1;
      margin: 0 0 10px 0;
      user-select: text;
    }
    .store-price {
      font-weight: 700;
      color: #111;
      font-size: 16px;
      margin-bottom: 8px;
    }
    .buy-button {
      background: #0f62fe;
      color: #fff;
      border: none;
      border-radius: 30px;
      padding: 10px;
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      text-transform: uppercase;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    .buy-button:hover {
      background: #0043ce;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      #game-frame-container, #twitch-player-container {
        width: 90vw;
        height: calc(90vw * 9 / 16);
      }
      .games-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      }
      .store-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      }
    }
    @media (max-width: 600px) {
      .games-grid, .store-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      header {
        flex-wrap: wrap;
        height: auto;
        padding: 10px 20px;
      }
      #search-bar {
        flex-basis: 100%;
        margin-top: 10px;
        margin-left: 0;
      }
      #twitch-channels {
        gap: 12px;
      }
      .twitch-channel {
        min-width: 170px;
      }
    }
  </style>
</head>
<body>
<header>
  <div class="logo" tabindex="0" aria-label="Gamhub home"><i class="fas fa-gamepad"></i> Gamhub</div>
  <div class="search-bar" role="search">
    <input
      type="search"
      id="search-input"
      aria-label="Search games"
      placeholder="Cari game di Gamhub..."
      autocomplete="off"
    />
    <span class="search-icon"><i class="fas fa-search" aria-hidden="true"></i></span>
  </div>
</header>

<nav class="categories" role="navigation" aria-label="Game categories" tabindex="0">
  <!-- categories buttons added by JS -->
</nav>

<main>
  <h2 class="section-title" id="section-title">Semua Game</h2>
  <div class="games-grid" id="games-grid" role="list" aria-label="Daftar game"></div>

  <section id="twitch-section" aria-label="Game live streams">
    <h2>Live Streaming</h2>
    <div id="twitch-channels" role="list" aria-label="Twitch channels" style="display: flex; overflow-x: auto; gap:16px; padding-bottom:10px;"></div>
    <div id="twitch-player-container" aria-label="Twitch video player" style="margin-top:20px; width:100%; max-width:840px; height:472px; box-shadow:0 0 35px #9147ff88; border-radius:14px; overflow:hidden; background:black; user-select:none; position:relative;"></div>
  </section>

  <section id="store-section" aria-label="Merchandise store">
    <h2>Store Merchandise</h2>
    <div class="store-grid" id="store-grid" role="list" aria-label="Merchandise items"></div>
  </section>
</main>

<!-- Game modal -->
<div id="game-modal" role="dialog" aria-modal="true" aria-labelledby="modal-game-title" tabindex="-1">
  <div id="game-frame-container">
    <button id="modal-close" aria-label="Tutup game">Ã—</button>
    <iframe id="game-iframe" title="Game Frame" sandbox="allow-scripts allow-same-origin" allowfullscreen></iframe>
  </div>
</div>

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
<script>
  (() => {
    const games = [
      {
        id: 'g1',
        title: 'Stick Hero Fight',
        desc: 'Enter the most nervous stickman battles. In Stick Hero Fight, you as a mighty stickman hero.',
        thumbnail: 'https://i.ibb.co/8LNYqp0d/512x384.jpg',
        embed: '//html5.gamemonetize.co/2e74bihleu981stvz8c9wtqb6nd7wnup/',
        category: 'Action'
      },
      {
        id: 'g2',
        title: 'StickMan Team Force',
        desc: 'A new Adventure begins in Kiz10 Special ces called Stickman Team Force.',
        thumbnail: 'https://i.ibb.co/TMkqRH5R/512x384.jpg',
        embed: 'https://html5.gamemonetize.co/wdwndlx5wn7lyptgc8hck6drcfte2miz/',
        category: 'Action'
      },
      {
        id: 'g3',
        title: 'ChooChoo Charles Friends Defense',
        desc: 'If youre looking for a heart-pounding, time-sucking online action game.',
        thumbnail: 'https://i.ibb.co/996g6p0J/512x384.jpg',
        embed: 'https://html5.gamemonetize.co/5bsheg26uutci2x11kw4s9enwmse2kuh/',
        category: 'Adventure'
      },
      {
        id: 'g4',
        title: 'Obby Minecraft Ultimate',
        desc: 'Obby Parkour Ultimate 3D is a fun skill-based game.',
        thumbnail: 'https://i.ibb.co/rKgzCkvb/512x384.jpg',
        embed: 'https://html5.gamemonetize.co/lenulffi2x6dvqs6yadgwr2o6yu8gi8o/',
        category: 'Adventure'
      },
      {
        id: 'g5',
        title: 'Mini Tennis Club',
        desc: 'Take part in an amazing tennis match and enjoy the swift and fluent game. ',
        thumbnail: 'https://i.ibb.co/x8h5m2YL/512x384.jpg',
        embed: 'https://html5.gamemonetize.co/49eln5cwqtgvyhxuxvb8ksp8jkz33h81/',
        category: '3D'
      },
      {
        id: 'g6',
        title: 'Jump Will Jump',
        desc: 'Jump, dash,',
        thumbnail: 'https://i.ibb.co/d4TfCbqT/512x384.jpg',
        embed: 'https://html5.gamemonetize.co/t93yw35gjjvle0qbk7qkthx8z0ekmeqg/',
        category: 'Adventure'
      },
      {
        id: 'g7',
        title: 'Super Wario Riders',
        desc: 'Join in a race in the world of mushrooms and magic stars.',
        thumbnail: 'https://i.ibb.co/TMrLN87w/512x384.jpg',
        embed: 'https://html5.gamemonetize.co/sly30piwilci61j7pc5x8n36cdu9n19f/',
        category: 'Arcade'
      },
      {
        id: 'g8',
        title: 'Princess Makeup Dressup Games',
        desc: 'Princess Makeup Dressup Games is an online game that you can play on Babygames for free.',
        thumbnail: 'https://i.ibb.co/YTX3nhB4/512x384.jpg',
        embed: 'https://html5.gamemonetize.co/zxw0mbzvolzpsd8iai9ftu10e9f5kbxc/',
        category: 'Girls'
      }
    ];

    const categoriesSet = new Set(games.map(g => g.category));
    const categories = ['Semua'].concat(Array.from(categoriesSet).sort());

    const categoriesNav = document.querySelector('nav.categories');
    const gamesGrid = document.getElementById('games-grid');
    const sectionTitle = document.getElementById('section-title');
    const searchInput = document.getElementById('search-input');
    const gameModal = document.getElementById('game-modal');
    const gameIframe = document.getElementById('game-iframe');
    const modalCloseBtn = document.getElementById('modal-close');

    let currentCategory = 'Semua';
    let currentSearch = '';

    const categoryIcons = {
      'Puzzle': 'fa-puzzle-piece',
      'Racing': 'fa-flag-checkered',
      'Adventure': 'fa-hat-wizard',
      'Sports': 'fa-basketball-ball',
      '3D': 'fa-cube',
      'Arcade': 'fa-gamepad'
    };

    categories.forEach(cat => {
      const btn = document.createElement('button');
      btn.textContent = cat;
      btn.className = cat === currentCategory ? 'active' : '';
      btn.setAttribute('aria-pressed', cat === currentCategory ? 'true' : 'false');
      if(categoryIcons[cat]){
        const icon = document.createElement('i');
        icon.className = `fas ${categoryIcons[cat]} fa-fw`;
        icon.style.marginRight = '6px';
        btn.prepend(icon);
      }
      btn.addEventListener('click', () => {
        if(currentCategory === cat) return;
        currentCategory = cat;
        Array.from(categoriesNav.children).forEach(b => {
          b.classList.toggle('active', b.textContent.trim() === cat);
          b.setAttribute('aria-pressed', b.textContent.trim() === cat ? 'true' : 'false');
        });
        renderGames();
        sectionTitle.textContent = cat === 'Semua' ? 'Semua Game' : `Kategori: ${cat}`;
      });
      categoriesNav.appendChild(btn);
    });

    function renderGames(){
      let filtered = games.filter(g => currentCategory === 'Semua' || g.category === currentCategory);
      if(currentSearch.trim()){
        const s = currentSearch.toLowerCase();
        filtered = filtered.filter(g => g.title.toLowerCase().includes(s));
      }
      gamesGrid.innerHTML = '';
      if(filtered.length === 0){
        gamesGrid.innerHTML = '<p style="text-align:center; color:#666; font-weight:600;">Tidak ada game ditemukan.</p>';
        return;
      }
      filtered.forEach(g => {
        const card = document.createElement('div');
        card.className = 'game-card';
        card.setAttribute('role','listitem');
        card.tabIndex = 0;
        card.setAttribute('aria-label', `${g.title}: ${g.desc}`);
        card.innerHTML = `
          <img src="${g.thumbnail}" alt="Thumbnail of ${g.title}" loading="lazy" />
          <div class="game-info">
            <h3 class="game-title">${g.title}</h3>
            <p class="game-desc">${g.desc}</p>
            <p class="game-meta">Kategori: ${g.category}</p>
            <button class="play-button" aria-label="Mainkan ${g.title}">Mainkan</button>
          </div>
        `;
        const playBtn = card.querySelector('.play-button');
        playBtn.addEventListener('click', e => {
          e.stopPropagation();
          openGameModal(g);
        });
        card.addEventListener('click', () => openGameModal(g));
        gamesGrid.appendChild(card);
      });
    }

    function openGameModal(game){
      gameIframe.src = game.embed;
      gameIframe.title = `Game: ${game.title}`;
      gameModal.classList.add('active');
      gameModal.focus();
    }
    function closeGameModal(){
      gameIframe.src = '';
      gameModal.classList.remove('active');
    }
    modalCloseBtn.addEventListener('click', closeGameModal);
    gameModal.addEventListener('click', e => {
      if(e.target === gameModal) closeGameModal();
    });
    document.addEventListener('keydown', e => {
      if(e.key === 'Escape' && gameModal.classList.contains('active')){
        closeGameModal();
      }
    });

    searchInput.addEventListener('input', () => {
      currentSearch = searchInput.value;
      renderGames();
    });

    // Twitch Section
    const twitchChannelsData = [
      {name: 'ninja', title: 'Ninja - Fortnite Stream', thumbnail: 'https://static-cdn.jtvnw.net/previews-ttv/live_user_ninja-440x248.jpg'},
      {name: 'shroud', title: 'Shroud - FPS Games', thumbnail: 'https://static-cdn.jtvnw.net/previews-ttv/live_user_shroud-440x248.jpg'},
      {name: 'pokimane', title: 'Pokimane - Variety Streaming', thumbnail: 'https://static-cdn.jtvnw.net/previews-ttv/live_user_pokimane-440x248.jpg'},
      {name: 'summit1g', title: 'Summit1g - Action/Adventure', thumbnail: 'https://static-cdn.jtvnw.net/previews-ttv/live_user_summit1g-440x248.jpg'},
      {name: 'xqcow', title: 'xQcOW - Variety & Chat', thumbnail: 'https://static-cdn.jtvnw.net/previews-ttv/live_user_xqcow-440x248.jpg'},
    ];

    function renderTwitchChannels(){
      const container = document.getElementById('twitch-channels');
      container.innerHTML = '';
      twitchChannelsData.forEach(ch => {
        const div = document.createElement('div');
        div.className = 'twitch-channel';
        div.setAttribute('role', 'listitem');
        div.tabIndex = 0;
        div.setAttribute('aria-label', `Channel Twitch ${ch.name}, ${ch.title}`);
        div.innerHTML = `
          <img src="${ch.thumbnail}" alt="Thumbnail channel ${ch.name}" class="twitch-thumb" />
          <div class="twitch-info">
            <h3 class="twitch-title">${ch.name}</h3>
            <p class="twitch-desc">${ch.title}</p>
          </div>
        `;
        div.addEventListener('click', () => loadTwitchStream(ch.name));
        div.addEventListener('keydown', e => {
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            loadTwitchStream(ch.name);
          }
        });
        container.appendChild(div);
      });
    }
    let currentTwitchChannel = null;
    function loadTwitchStream(channel){
      if(currentTwitchChannel === channel) return;
      currentTwitchChannel = channel;
      const container = document.getElementById('twitch-player-container');
      container.innerHTML = '';
      const embed = document.createElement('iframe');
      embed.src = `https://player.twitch.tv/?channel=${channel}&parent=${window.location.hostname}&autoplay=true`;
      embed.allow = "autoplay; fullscreen";
      embed.frameBorder = '0';
      embed.height = '100%';
      embed.width = '100%';
      embed.setAttribute('allowfullscreen', true);
      embed.setAttribute('title', `Twitch stream of ${channel}`);
      container.appendChild(embed);
    }
    renderTwitchChannels();

    // Store Merchandise Items
    const merchandise = [
      {id: 'm1', title: 'Gamhub T-Shirt', description: 'Kaos kualitas premium dengan logo Gamhub', price: 'Rp150.000', image: 'https://i.imgur.com/dlX9PlP.jpg'},
      {id: 'm2', title: 'Gamhub Hoodie', description: 'Hoodie hangat dan nyaman dengan desain keren', price: 'Rp300.000', image: 'https://i.imgur.com/p7FSTH2.jpg'},
      {id: 'm3', title: 'Gamhub Mug', description: 'Cangkir keramik untuk teman ngopi gamer', price: 'Rp75.000', image: 'https://i.imgur.com/i7e8hBd.jpg'},
      {id: 'm4', title: 'Gamhub Sticker Pack', description: 'Paket stiker keren untuk laptop dan kaca', price: 'Rp40.000', image: 'https://i.imgur.com/UHglaMq.png'}
    ];

    const storeGrid = document.getElementById('store-grid');

    function renderStore(){
      storeGrid.innerHTML = '';
      merchandise.forEach(item => {
        const card = document.createElement('div');
        card.className = 'store-item';
        card.setAttribute('role', 'listitem');
        card.tabIndex = 0;
        card.setAttribute('aria-label', `${item.title}: ${item.description}, harga ${item.price}`);
        card.innerHTML = `
          <img src="${item.image}" alt="${item.title}" loading="lazy" />
          <div class="store-info">
            <h3 class="store-title">${item.title}</h3>
            <p class="store-desc">${item.description}</p>
            <div class="store-price">${item.price}</div>
            <button class="buy-button" aria-label="Beli ${item.title}">Beli Sekarang</button>
          </div>
        `;
        const buyBtn = card.querySelector('.buy-button');
        buyBtn.addEventListener('click', e => {
          e.stopPropagation();
          alert(`Terima kasih telah memilih membeli: ${item.title}\nHarga: ${item.price}`);
        });
        storeGrid.appendChild(card);
      });
    }
    renderStore();

    // Initialize games
    function renderGamesInit() {
      let filtered = games.filter(g => currentCategory === 'Semua' || g.category === currentCategory);
      if(currentSearch.trim()){
        const s = currentSearch.toLowerCase();
        filtered = filtered.filter(g => g.title.toLowerCase().includes(s));
      }
      gamesGrid.innerHTML = '';
      if(filtered.length === 0){
        gamesGrid.innerHTML = '<p style="text-align:center; color:#666; font-weight:600;">Tidak ada game ditemukan.</p>';
        return;
      }
      filtered.forEach(g => {
        const card = document.createElement('div');
        card.className = 'game-card';
        card.setAttribute('role','listitem');
        card.tabIndex = 0;
        card.setAttribute('aria-label', `${g.title}: ${g.desc}`);
        card.innerHTML = `
          <img src="${g.thumbnail}" alt="Thumbnail of ${g.title}" loading="lazy" />
          <div class="game-info">
            <h3 class="game-title">${g.title}</h3>
            <p class="game-desc">${g.desc}</p>
            <p class="game-meta">Kategori: ${g.category}</p>
            <button class="play-button" aria-label="Mainkan ${g.title}">Mainkan</button>
          </div>
        `;
        const playBtn = card.querySelector('.play-button');
        playBtn.addEventListener('click', e => {
          e.stopPropagation();
          openGameModal(g);
        });
        card.addEventListener('click', () => openGameModal(g));
        gamesGrid.appendChild(card);
      });
    }

    renderGamesInit();

    // Game modal functions
    function openGameModal(game){
      gameIframe.src = game.embed;
      gameIframe.title = `Game: ${game.title}`;
      gameModal.classList.add('active');
      gameModal.focus();
    }
    function closeGameModal(){
      gameIframe.src = '';
      gameModal.classList.remove('active');
    }
    modalCloseBtn.addEventListener('click', closeGameModal);
    gameModal.addEventListener('click', e => {
      if(e.target === gameModal) closeGameModal();
    });
    document.addEventListener('keydown', e => {
      if(e.key === 'Escape' && gameModal.classList.contains('active')){
        closeGameModal();
      }
    });

    // Search input event
    searchInput.addEventListener('input', () => {
      currentSearch = searchInput.value;
      // Re-filter games and render
      const buttons = Array.from(categoriesNav.children);
      buttons.forEach(btn => btn.classList.remove('active'));
      // Reset category to 'Semua'
      currentCategory = 'Semua';
      buttons.find(b => b.textContent.trim() === 'Semua')?.classList.add('active');
      renderGamesInit();
    });
  })();
</script>
</body>
</html>
